(function(t,f,g,c,a,d,u,l,m){"use strict";var{FormSwitchRow:v,FormRow:i,FormInput:b}=m.Forms;function h(){return u.useProxy(e),a.createElement(d.ReactNative.ScrollView,{style:{flex:1}},a.createElement(v,{label:"Enable Message Prefixer",subLabel:"Automatically add prefix to all sent messages",leading:a.createElement(i.Icon,{source:l.getAssetIDByName("ic_message_edit")}),onValueChange:()=>{e.config.enabled=!e.config.enabled},value:e.config.enabled}),a.createElement(b,{title:"Prefix Text",value:e.config.prefix,placeholder:"you said: ",onChange:o=>{e.config.prefix=o}}),a.createElement(i,{label:"Preview",subLabel:`"hello" \u2192 "${e.config.prefix}hello"`,leading:a.createElement(i.Icon,{source:l.getAssetIDByName("ic_eye")})}))}var e=f.storage;function p(){e.config??(e.config={enabled:!0,prefix:"you said: "})}var r=g.findByProps("sendMessage","editMessage"),s;function y(){s?.()}function E(){var o=[];o.push(c.before("sendMessage",r,n=>{n[1]?.content&&e.config.enabled&&(n[1].content=`${e.config.prefix}${n[1].content}`)})),o.push(c.before("editMessage",r,n=>{n[2]?.content&&e.config.enabled&&(n[2].content=`${e.config.prefix}${n[2].content}`)})),s=()=>o.forEach(n=>n())}var w=h;return t.onActivate=E,t.onLoad=p,t.onUnload=y,t.settings=w,t.vstorage=e,t})({},vendetta.plugin,vendetta.metro,vendetta.patcher,window.React,vendetta.metro.common,vendetta.storage,vendetta.ui.assets,vendetta.ui.components);
